# Story 3.1: Add Click Counter to Schema

## Status

Pending

## Story

As a developer, I want to add a click counter to the database schema, so that we can track link popularity.

## Acceptance Criteria

- The `links` table is updated with a `click_count` column, defaulting to 0.

## Tasks/Subtasks

1.  **Database Migration Script**: Create a migration script to add the `click_count` column to the `links` table.
2.  **Default Value**: Ensure the `click_count` column defaults to 0 for existing and new entries.
3.  **Schema Update**: Update the database schema definition in the codebase to reflect the new column.
4.  **Local Testing**: Verify the column addition and default value in a local development environment.

## Dev Notes

### Technical Details

- **Database**: Supabase (PostgreSQL).
- **Column Type**: `INTEGER` or `BIGINT` to accommodate a large number of clicks.
- **Default Value**: The column should have a `DEFAULT 0` constraint.
- **Migration**: Use Supabase's migration tools or direct SQL commands to alter the table.

### Implementation Considerations

- **Backward Compatibility**: Ensure the schema change does not break existing functionality that queries the `links` table.
- **Data Integrity**: The default value of 0 is crucial for accurate initial tracking.

## Testing

- **Unit Tests**: N/A for schema migration directly, but ensure application code interacting with the `links` table still functions.
- **Integration Tests**: Verify that new links created have `click_count` initialized to 0.
- **Manual Testing**:
  1.  Run the migration script.
  2.  Check the `links` table in Supabase to confirm the `click_count` column exists and has a default of 0.
  3.  Create a new short link and verify its `click_count` is 0.

## Change Log

- **2024-07-30**: Story created.

## Dev Agent Record

- **Agent**: Gemini-2.5-Flash
- **Date**: 2024-07-30
- **Summary**: Created story markdown for Story 3.1: Add Click Counter to Schema, detailing the database schema update to include a `click_count` column.

## QA Results

- **Date**: N/A
- **Outcome**: N/A
- **Notes**: N/A
